<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Espacio Personal</title>

<style>
:root{
  --beige:#f7f5f2;
  --lila:#c6b7e2;
  --menta:#9fd6c2;
  --menta-soft:#e6f4ef;
  --texto:#3a3a3a;
}

body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:var(--beige);
  color:var(--texto);
}

header{
  padding:16px;
  background:linear-gradient(90deg,var(--menta),var(--lila));
  color:white;
  text-align:center;
  font-weight:600;
}

nav{
  display:flex;
  justify-content:space-around;
  background:white;
  padding:10px;
  border-radius:16px;
  margin:12px;
}

nav button{
  background:none;
  border:none;
  font-weight:500;
  color:#666;
}

nav button.active{
  color:var(--lila);
}

section{
  display:none;
  padding:16px;
  max-width:900px;
  margin:auto;
}

section.active{ display:block; }

.card{
  background:white;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}

/* DÃA */
.date-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:var(--menta-soft);
  padding:12px;
  border-radius:12px;
  margin-bottom:16px;
}

.date-bar button{
  background:var(--menta);
  border:none;
  color:white;
  padding:6px 12px;
  border-radius:8px;
}

.intention textarea,
.sub-block textarea{
  width:100%;
  border:none;
  resize:none;
  outline:none;
}

.hour-block{
  background:white;
  border-radius:14px;
  padding:12px;
  margin-bottom:16px;
  border-left:6px solid var(--menta);
}

.sub-block{
  background:var(--menta-soft);
  border-radius:10px;
  padding:8px;
  margin-top:6px;
}

.sub-header{
  display:flex;
  justify-content:space-between;
  font-size:0.8rem;
}

/* Calendario mes */
.day{
  background:white;
  border-radius:10px;
  padding:6px;
  font-size:12px;
}

.day textarea{
  width:100%;
  border:none;
  resize:none;
  background:transparent;
}

/* Stickies */
.sticky{
  position:absolute;
  background:#fff8b5;
  padding:12px;
  border-radius:12px;
  width:160px;
  cursor:move;
}
</style>
</head>

<body>

<header>ğŸŒ¿ Mi espacio terapÃ©utico</header>

<nav>
  <button class="active" onclick="openTab('dia')">DÃ­a</button>
  <button onclick="openTab('semana')">Semana</button>
  <button onclick="openTab('mes')">Mes</button>
  <button onclick="openTab('semestre')">Semestre</button>
  <button onclick="openTab('proyectos')">Proyectos</button>
  <button onclick="openTab('salud')">Salud</button>
</nav>

<!-- DÃA -->
<section id="dia" class="active">
  <div class="date-bar">
    <button onclick="changeDay(-1)">â—€</button>
    <div id="dateText"></div>
    <button onclick="changeDay(1)">â–¶</button>
  </div>

  <div class="card intention">
    <strong>intenciÃ³n del dÃ­a</strong>
    <textarea id="intention" rows="2"></textarea>
  </div>

  <div id="schedule"></div>
</section>

<!-- SEMANA -->
<section id="semana">
  <div class="card">
    <h3>ğŸ“… Vista semanal</h3>
    <p>estructura base lista â€“ la armamos despuÃ©s con progreso %</p>
  </div>
</section>

<!-- MES -->
<section id="mes">
  <div class="card">
    <h3>ğŸ—“ Calendario mensual</h3>
    <div id="calendar" style="display:grid;grid-template-columns:repeat(7,1fr);gap:8px;"></div>
  </div>
</section>

<!-- SEMESTRE -->
<section id="semestre">
  <div class="card">
    <h3>ğŸ“† VisiÃ³n semestre</h3>
    <p>espacio para objetivos macro</p>
  </div>
</section>

<!-- PROYECTOS -->
<section id="proyectos">
  <div class="card">
    <h3>ğŸ“Œ Proyectos</h3>
    <input type="range" min="0" max="100" value="30" oninput="this.nextElementSibling.firstChild.style.width=this.value+'%'">
    <div class="progress"><div style="width:30%;height:12px;background:var(--lila)"></div></div>
  </div>
</section>

<!-- SALUD -->
<section id="salud">
  <div class="card">
    <h3>ğŸ’š Tracker de salud</h3>
    <label><input type="checkbox"> Ejercicio</label><br>
    <label><input type="checkbox"> Agua</label><br>
    <label><input type="checkbox"> MedicaciÃ³n</label>
  </div>
</section>

<button onclick="newSticky()" style="position:fixed;bottom:20px;right:20px;">â• Nota</button>

<script>
function openTab(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

/* DÃA */
let currentDate=new Date();

function formatDate(d){
  return d.toLocaleDateString('es-ES',{weekday:'long',day:'numeric',month:'long'});
}

function changeDay(o){ currentDate.setDate(currentDate.getDate()+o); loadDay(); }

function loadDay(){
  const key=currentDate.toISOString().split('T')[0];
  document.getElementById('dateText').innerText=formatDate(currentDate);

  const intent=document.getElementById('intention');
  intent.value=localStorage.getItem(key+'-intent')||'';
  intent.oninput=()=>localStorage.setItem(key+'-intent',intent.value);

  const sch=document.getElementById('schedule');
  sch.innerHTML='';

  for(let h=4;h<=23;h++){
    const b=document.createElement('div');
    b.className='hour-block';
    b.innerHTML=`<strong>${h}:00</strong>`;
    ['00','30'].forEach(m=>{
      const id=`${key}-${h}-${m}`;
      const s=document.createElement('div');
      s.className='sub-block';
      s.innerHTML=`<div class="sub-header">${h}:${m}</div>
      <textarea rows="2" id="${id}"></textarea>`;
      const ta=s.querySelector('textarea');
      ta.value=localStorage.getItem(id)||'';
      ta.oninput=()=>localStorage.setItem(id,ta.value);
      b.appendChild(s);
    });
    sch.appendChild(b);
  }
}

loadDay();

/* MES */
const calendar=document.getElementById("calendar");
const today=new Date();
const y=today.getFullYear(),m=today.getMonth();
const days=new Date(y,m+1,0).getDate();
const start=new Date(y,m,1).getDay();
for(let i=0;i<start;i++) calendar.innerHTML+="<div></div>";
for(let d=1;d<=days;d++){
  calendar.innerHTML+=`<div class="day"><strong>${d}</strong><textarea></textarea></div>`;
}

/* STICKIES */
function newSticky(){
  const n=document.createElement('div');
  n.className='sticky';
  n.contentEditable=true;
  n.innerText='notaâ€¦';
  n.style.top='120px';
  n.style.left='120px';
  document.body.appendChild(n);
  n.onmousedown=e=>{
    const x=e.offsetX,y=e.offsetY;
    document.onmousemove=ev=>{
      n.style.left=(ev.pageX-x)+'px';
      n.style.top=(ev.pageY-y)+'px';
    };
    document.onmouseup=()=>document.onmousemove=null;
  }
}
</script>

</body>
</html>

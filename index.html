<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Mi Espacio Personal</title>

<style>
:root{
  --beige:#f6f1eb;
  --lila:#c8b6e2;
  --menta:#b8e0d2;
  --texto:#4a4a4a;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background:var(--beige);
  color:var(--texto);
}

header{
  padding:16px;
  text-align:center;
  font-weight:600;
}

nav{
  display:flex;
  justify-content:space-around;
  background:white;
  border-radius:16px;
  margin:0 12px;
  padding:8px;
}

nav button{
  background:none;
  border:none;
  font-weight:500;
  color:#555;
}

nav button.active{
  color:var(--lila);
}

section{
  display:none;
  padding:16px;
}

section.active{
  display:block;
}

.card{
  background:white;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}

/* ===== D√çA ===== */
.hour{
  display:grid;
  grid-template-columns:60px 1fr 30px;
  gap:8px;
  align-items:start;
  margin-bottom:8px;
  font-size:12px;
}

.hour textarea{
  width:100%;
  border:none;
  resize:none;
  background:#f9f7f4;
  border-radius:8px;
  padding:6px;
  font-size:12px;
}

.hour textarea:focus{
  outline:2px solid var(--menta);
}

/* ===== PROGRESO ===== */
.progress{
  background:#eee;
  border-radius:12px;
  overflow:hidden;
}

.progress div{
  height:14px;
  background:var(--lila);
  width:0%;
  transition:.3s;
}

/* ===== CALENDARIO ===== */
.day{
  background:#ffffff;
  border-radius:12px;
  padding:8px;
  min-height:90px;
  font-size:12px;
}

.day textarea{
  width:100%;
  border:none;
  resize:none;
  background:transparent;
}

/* ===== STICKIES ===== */
.sticky{
  position:absolute;
  background:#fff8b5;
  padding:12px;
  border-radius:12px;
  width:160px;
  cursor:move;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
}
</style>
</head>

<body>

<header>üåø Mi espacio personal</header>

<nav>
  <button class="active" onclick="openTab('dia')">D√≠a</button>
  <button onclick="openTab('mes')">Mes</button>
  <button onclick="openTab('proyectos')">Proyectos</button>
  <button onclick="openTab('salud')">Salud</button>
  <button onclick="openTab('diario')">Diario</button>
</nav>

<!-- ================= D√çA ================= -->
<section id="dia" class="active">
  <div class="card">
    <h3>‚è∞ Mi d√≠a (4 am ‚Äì 11 pm)</h3>
    <div id="daySchedule"></div>
  </div>
</section>

<!-- ================= MES ================= -->
<section id="mes">
  <div class="card">
    <h3>üóì Calendario mensual</h3>
    <div id="calendar" style="display:grid;grid-template-columns:repeat(7,1fr);gap:8px;"></div>
  </div>
</section>

<!-- ================= PROYECTOS ================= -->
<section id="proyectos">
  <div class="card">
    <h3>üìå Proyecto principal</h3>
    <input type="range" min="0" max="100" value="30" oninput="updateProgress(this)">
    <div class="progress"><div style="width:30%"></div></div>
  </div>
</section>

<!-- ================= SALUD ================= -->
<section id="salud">
  <div class="card">
    <h3>üí™ Tracker de salud</h3>
    <label><input type="checkbox"> Ejercicio</label><br>
    <label><input type="checkbox"> Agua</label><br>
    <label><input type="checkbox"> Medicaci√≥n</label>
  </div>
</section>

<!-- ================= DIARIO ================= -->
<section id="diario">
  <div class="card">
    <h3>üß† Diario emocional</h3>
    <input type="range" min="1" max="10">
    <textarea rows="5" style="width:100%" placeholder="Escribe libremente..."></textarea>
  </div>
</section>

<button onclick="newSticky()" style="position:fixed;bottom:20px;right:20px;">‚ûï Nota</button>

<script>
/* ===== PESTA√ëAS ===== */
function openTab(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

/* ===== PROGRESO ===== */
function updateProgress(input){
  input.nextElementSibling.querySelector('div').style.width = input.value + '%';
}

/* ===== STICKIES ===== */
function newSticky(){
  const note = document.createElement('div');
  note.className='sticky';
  note.contentEditable=true;
  note.style.top='120px';
  note.style.left='120px';
  note.innerText='Escribe aqu√≠‚Ä¶';
  document.body.appendChild(note);

  let ox, oy;
  note.onmousedown=e=>{
    ox=e.offsetX;
    oy=e.offsetY;
    document.onmousemove=ev=>{
      note.style.left=(ev.pageX-ox)+'px';
      note.style.top=(ev.pageY-oy)+'px';
    };
    document.onmouseup=()=>document.onmousemove=null;
  };
}

/* ===== D√çA HORA POR HORA ===== */
const schedule = document.getElementById("daySchedule");

for(let h=4; h<=23; h++){
  const key = `hour-${h}`;
  const saved = localStorage.getItem(key) || "";
  schedule.innerHTML += `
    <div class="hour">
      <strong>${h}:00</strong>
      <textarea oninput="localStorage.setItem('${key}', this.value)">${saved}</textarea>
      <input type="checkbox">
    </div>
  `;
}

/* ===== CALENDARIO ===== */
const calendar = document.getElementById("calendar");
const today = new Date();
const year = today.getFullYear();
const month = today.getMonth();

function loadCalendar(){
  calendar.innerHTML="";
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();

  for(let i=0;i<firstDay;i++) calendar.innerHTML += "<div></div>";

  for(let d=1; d<=daysInMonth; d++){
    const key = `day-${year}-${month}-${d}`;
    const note = localStorage.getItem(key) || "";
    calendar.innerHTML += `
      <div class="day">
        <strong>${d}</strong>
        <textarea oninput="localStorage.setItem('${key}', this.value)">${note}</textarea>
      </div>
    `;
  }
}
loadCalendar();
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mi Espacio Terap√©utico</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --beige:#f7f3ee;
  --lila:#c6b7e2;
  --menta:#bfe6d3;
  --menta-fuerte:#9fd9c1;
  --salmon:#f6c1b5;
  --ocre:#e6c46a;
  --menta-osc:#6fa8a1;
  --texto:#4a4a4a;
}

body{
  margin:0;
  font-family:system-ui, sans-serif;
  background:var(--beige);
  color:var(--texto);
}

header{
  padding:16px;
  background:linear-gradient(90deg,var(--menta),var(--lila));
}

.tabs{
  display:flex;
  gap:6px;
  padding:10px;
  background:#fff;
  overflow-x:auto;
}

.tab{
  border:none;
  background:var(--menta);
  padding:8px 14px;
  border-radius:20px;
  cursor:pointer;
}

.tab.active{
  background:var(--menta-fuerte);
  font-weight:600;
}

.section{display:none;padding:16px;}
.section.active{display:block}

/* ---------- D√çA ---------- */
.day-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.intention{
  margin:12px 0;
  font-style:italic;
  color:#9a8bc7;
}

.hour-block{
  background:#fff;
  border-radius:12px;
  padding:10px;
  margin-bottom:10px;
  border-left:6px solid var(--menta);
}

/* ---------- SEMANA ---------- */
.week-grid{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
}

.week-day{
  background:#fff;
  border-radius:12px;
  padding:8px;
  min-height:140px;
  border-top:6px solid var(--menta);
}

/* ---------- MES ---------- */
.month-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.calendar{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
}

.day-name{
  text-align:center;
  font-weight:600;
}

.day{
  background:white;
  border-radius:14px;
  padding:6px;
  min-height:100px;
  cursor:pointer;
}

.event{margin-top:4px;padding:4px 6px;border-radius:8px;font-size:11px;}
.birthday{background:var(--salmon);}
.medical{background:var(--ocre);}
.vet{background:var(--menta-osc);color:white;}

/* ---------- MODAL ---------- */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:none;
  justify-content:center;
  align-items:center;
}

.modal-content{
  background:white;
  padding:20px;
  border-radius:18px;
  width:300px;
}
</style>
</head>

<body>

<header>üå± Mi espacio</header>

<div class="tabs">
  <button class="tab active" onclick="showSection('day',this)">D√≠a</button>
  <button class="tab" onclick="showSection('week',this)">Semana</button>
  <button class="tab" onclick="showSection('month',this)">Mes</button>
</div>

<!-- D√çA -->
<div id="day" class="section active">
  <div class="day-header">
    <button onclick="changeDay(-1)">‚Üê</button>
    <strong id="currentDate"></strong>
    <button onclick="changeDay(1)">‚Üí</button>
  </div>

  <div class="intention">
    Intenci√≥n del d√≠a...
    <input style="width:100%">
  </div>

  <div id="hours"></div>
</div>

<!-- SEMANA -->
<div id="week" class="section">
  <div class="week-grid" id="weekGrid"></div>
</div>

<!-- MES -->
<div id="month" class="section">
  <div class="month-header">
    <button onclick="changeMonth(-1)">‚¨Ö</button>
    <h3 id="monthTitle"></h3>
    <button onclick="changeMonth(1)">‚û°</button>
  </div>
  <div class="calendar" id="calendar"></div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>Agregar evento</h3>
    <select id="eventType">
      <option value="birthday">üéÇ Cumplea√±os</option>
      <option value="medical">‚ö†Ô∏è Cita m√©dica</option>
      <option value="vet">‚ö†Ô∏è Veterinario</option>
    </select>
    <input id="eventText" placeholder="Descripci√≥n">
    <input id="eventTime" type="time">
    <button onclick="saveEvent()">Guardar</button>
  </div>
</div>

<script>
/* ---------- TABS ---------- */
function showSection(id,el){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  el.classList.add('active');
}

/* ---------- D√çA ---------- */
let currentDay=new Date();
function renderDay(){
  currentDate.innerText=currentDay.toLocaleDateString('es-ES',{weekday:'long',day:'numeric',month:'long'});
}
function changeDay(n){currentDay.setDate(currentDay.getDate()+n);renderDay();}
renderDay();

/* ---------- MES ---------- */
let currentMonth=new Date();
let selectedDay=null;
const events={};

function renderCalendar(){
  calendar.innerHTML="";
  monthTitle.innerText=currentMonth.toLocaleDateString('es-ES',{month:'long',year:'numeric'});

  ["Lun","Mar","Mi√©","Jue","Vie","S√°b","Dom"].forEach(d=>{
    calendar.innerHTML+=`<div class="day-name">${d}</div>`;
  });

  const first=new Date(currentMonth.getFullYear(),currentMonth.getMonth(),1);
  const start=(first.getDay()+6)%7;
  const days=new Date(currentMonth.getFullYear(),currentMonth.getMonth()+1,0).getDate();

  for(let i=0;i<start;i++) calendar.innerHTML+="<div></div>";

  for(let d=1;d<=days;d++){
    const key=`${currentMonth.getFullYear()}-${currentMonth.getMonth()}-${d}`;
    let html=`<div class="day" onclick="openModal(${d})"><strong>${d}</strong>`;
    if(events[key]) events[key].forEach(e=>{
      html+=`<div class="event ${e.type}">${e.text} ${e.time||""}</div>`;
    });
    html+="</div>";
    calendar.innerHTML+=html;
  }
}
function changeMonth(x){currentMonth.setMonth(currentMonth.getMonth()+x);renderCalendar();}
function openModal(d){selectedDay=d;modal.style.display="flex";}
function saveEvent(){
  const key=`${currentMonth.getFullYear()}-${currentMonth.getMonth()}-${selectedDay}`;
  if(!events[key]) events[key]=[];
  events[key].push({type:eventType.value,text:eventText.value,time:eventTime.value});
  modal.style.display="none";
  renderCalendar();
}
renderCalendar();
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Mi Espacio Personal</title>

<style>
:root{
  --beige:#f6f1eb;
  --lila:#c8b6e2;
  --menta:#b8e0d2;
  --texto:#4a4a4a;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  background:var(--beige);
  color:var(--texto);
}

header{
  padding:16px;
  text-align:center;
  font-weight:600;
}

nav{
  display:flex;
  justify-content:space-around;
  background:white;
  border-radius:16px;
  margin:0 12px;
  padding:8px;
}

nav button{
  background:none;
  border:none;
  font-weight:500;
  color:#555;
}

nav button.active{
  color:var(--lila);
}

section{
  display:none;
  padding:16px;
}

section.active{
  display:block;
}

.card{
  background:white;
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}

.progress{
  background:#eee;
  border-radius:12px;
  overflow:hidden;
}

.progress div{
  height:14px;
  background:var(--lila);
  width:0%;
  transition:.3s;
}

/* Stickies */
.sticky{
  position:absolute;
  background:#fff8b5;
  padding:12px;
  border-radius:12px;
  width:160px;
  cursor:move;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
}
.day{
  background:#ffffff;
  border-radius:12px;
  padding:8px;
  min-height:90px;
  font-size:12px;
  position:relative;
}

.day strong{
  display:block;
  margin-bottom:4px;
}

.day textarea{
  width:100%;
  border:none;
  resize:none;
  font-size:11px;
  background:transparent;
}

.day textarea:focus{
  outline:none;
}  
</style>
</head>

<body>

<header>ðŸŒ¿ Mi espacio personal</header>

<nav>
  <button class="active" onclick="openTab('dia')">DÃ­a</button>
  <button onclick="openTab('mes')">Mes</button>
  <button onclick="openTab('proyectos')">Proyectos</button>
  <button onclick="openTab('salud')">Salud</button>
  <button onclick="openTab('diario')">Diario</button>
</nav>

<section id="dia" class="active">
<section id="mes">
  <div class="card">
    <h3>ðŸ—“ Calendario mensual</h3>
    <div id="calendar" style="display:grid;grid-template-columns:repeat(7,1fr);gap:8px;"></div>
  </div>
</section>

<section id="proyectos">
  <div class="card">
    <h3>ðŸ“Œ Proyecto principal</h3>
    <input type="range" min="0" max="100" value="30" oninput="updateProgress(this)">
    <div class="progress"><div style="width:30%"></div></div>
  </div>
</section>

<section id="salud">
  <div class="card">
    <h3>ðŸ’ª Tracker de salud</h3>
    <label><input type="checkbox"> Ejercicio</label><br>
    <label><input type="checkbox"> Agua</label><br>
    <label><input type="checkbox"> MedicaciÃ³n</label>
  </div>
</section>

<section id="diario">
  <div class="card">
    <h3>ðŸ§  Diario emocional</h3>
    <label>Â¿CÃ³mo te sientes hoy?</label>
    <input type="range" min="1" max="10">
    <textarea rows="5" style="width:100%" placeholder="Escribe libremente..."></textarea>
  </div>
</section>

<button onclick="newSticky()" style="position:fixed;bottom:20px;right:20px;">âž• Nota</button>

<script>
function openTab(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  event.target.classList.add('active');
}

function updateProgress(input){
  input.nextElementSibling.querySelector('div').style.width = input.value + '%';
}

function newSticky(){
  const note = document.createElement('div');
  note.className='sticky';
  note.contentEditable=true;
  note.style.top='100px';
  note.style.left='100px';
  note.innerText='Escribe aquÃ­â€¦';
  document.body.appendChild(note);

  let offsetX, offsetY;
  note.onmousedown=e=>{
    offsetX=e.offsetX;
    offsetY=e.offsetY;
    document.onmousemove=ev=>{
      note.style.left=(ev.pageX-offsetX)+'px';
      note.style.top=(ev.pageY-offsetY)+'px';
    };
    document.onmouseup=()=>document.onmousemove=null;
  };
}
const calendar = document.getElementById("calendar");
const today = new Date();
const year = today.getFullYear();
const month = today.getMonth();

function loadCalendar(){
  calendar.innerHTML="";
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();

  for(let i=0;i<firstDay;i++){
    calendar.innerHTML += "<div></div>";
  }

  for(let d=1; d<=daysInMonth; d++){
    const key = `day-${year}-${month}-${d}`;
    const note = localStorage.getItem(key) || "";
    calendar.innerHTML += `
      <div class="day">
        <strong>${d}</strong>
        <textarea oninput="saveDay('${key}', this.value)">${note}</textarea>
      </div>
    `;
  }
}

function saveDay(key,value){
  localStorage.setItem(key,value);
}

loadCalendar();
</script>

</body>
</html>

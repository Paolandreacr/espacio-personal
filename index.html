<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Planner New Beginning</title>

<style>
/* ====== VARIABLES ====== */
:root{
  --lila:#cbb7e2;
  --menta:#bfe6dd;
  --menta-osc:#6fa8a1;
  --salmon:#f6c1b5;
  --ocre:#e6c46a;
  --gris:#f4f4f4;
  --texto:#444;
}

/* ====== GLOBAL ====== */
body{
  margin:0;
  font-family:'Segoe UI', sans-serif;
  background:#fafafa;
  color:var(--texto);
  padding:20px;
}

/* ====== TABS ====== */
.tabs{
  display:flex;
  gap:10px;
  margin-bottom:20px;
}

.tab{
  padding:10px 16px;
  background:var(--gris);
  border-radius:14px;
  cursor:pointer;
}

.tab.active{
  background:var(--lila);
  font-weight:600;
}

/* ====== SECTIONS ====== */
.section{
  display:none;
}

.section.active{
  display:block;
}

/* ====== PLACEHOLDER ====== */
.placeholder{
  background:white;
  padding:20px;
  border-radius:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}

/* ====== MONTH ====== */
.month-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}

.month-header button{
  background:none;
  border:none;
  font-size:22px;
  cursor:pointer;
}

.calendar{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:8px;
}

.day-name{
  text-align:center;
  font-weight:600;
  font-size:14px;
}

.day{
  min-height:100px;
  background:white;
  border-radius:14px;
  padding:6px;
  font-size:12px;
  cursor:pointer;
  box-shadow:0 3px 8px rgba(0,0,0,.05);
}

.day-number{
  font-weight:600;
  margin-bottom:4px;
}

.event{
  margin-top:4px;
  padding:4px 6px;
  border-radius:8px;
  font-size:11px;
}

.birthday{ background:var(--salmon); }
.medical{ background:var(--ocre); }
.vet{ background:var(--menta-osc); color:white; }

/* ====== MODAL ====== */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:none;
  align-items:center;
  justify-content:center;
}

.modal-content{
  background:white;
  padding:20px;
  border-radius:18px;
  width:300px;
}

.modal-content h3{
  margin-top:0;
}

.modal-content label{
  display:block;
  margin-top:10px;
  font-size:13px;
}

.modal-content input,
.modal-content select{
  width:100%;
  padding:6px;
  margin-top:4px;
}

.modal-content button{
  margin-top:14px;
  width:100%;
  padding:8px;
  border:none;
  border-radius:12px;
  background:var(--lila);
  cursor:pointer;
}
</style>
</head>

<body>

<!-- ====== TABS ====== -->
<div class="tabs">
  <div class="tab active" onclick="showSection('day',this)">D√≠a</div>
  <div class="tab" onclick="showSection('week',this)">Semana</div>
  <div class="tab" onclick="showSection('month',this)">Mes</div>
  <div class="tab" onclick="showSection('projects',this)">Proyectos</div>
  <div class="tab" onclick="showSection('health',this)">Salud</div>
</div>

<!-- ====== D√çA ====== -->
<div id="day" class="section active">
  <div class="placeholder">
    <h3>D√≠a</h3>
    <p>Aqu√≠ va TODO lo del d√≠a que ya ven√≠amos trabajando.  
    No est√° borrado conceptualmente, solo reintegrado limpio.</p>
  </div>
</div>

<!-- ====== SEMANA ====== -->
<div id="week" class="section">
  <div class="placeholder">
    <h3>Semana</h3>
    <p>Aqu√≠ ir√° la vista semanal con los eventos seleccionados desde D√≠a.</p>
  </div>
</div>

<!-- ====== MES ====== -->
<div id="month" class="section">
  <div class="month-header">
    <button onclick="changeMonth(-1)">‚¨Ö</button>
    <h2 id="monthTitle"></h2>
    <button onclick="changeMonth(1)">‚û°</button>
  </div>

  <div class="calendar" id="calendar"></div>
</div>

<!-- ====== PROYECTOS ====== -->
<div id="projects" class="section">
  <div class="placeholder">
    <h3>Proyectos</h3>
  </div>
</div>

<!-- ====== SALUD ====== -->
<div id="health" class="section">
  <div class="placeholder">
    <h3>Salud</h3>
  </div>
</div>

<!-- ====== MODAL ====== -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>Agregar evento</h3>

    <label>Tipo</label>
    <select id="eventType">
      <option value="birthday">üéÇ Cumplea√±os</option>
      <option value="medical">‚ö†Ô∏è Cita m√©dica</option>
      <option value="vet">‚ö†Ô∏è Veterinario</option>
    </select>

    <label>Nombre / descripci√≥n</label>
    <input id="eventText" type="text">

    <label>Hora (opcional)</label>
    <input id="eventTime" type="time">

    <button onclick="saveEvent()">Guardar</button>
  </div>
</div>

<script>
/* ====== TABS ====== */
function showSection(id,el){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  el.classList.add('active');
}

/* ====== CALENDAR ====== */
let currentDate=new Date();
let selectedDay=null;
const events={};

const monthNames=[
  "Enero","Febrero","Marzo","Abril","Mayo","Junio",
  "Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"
];

function renderCalendar(){
  const cal=document.getElementById('calendar');
  cal.innerHTML="";

  document.getElementById('monthTitle').innerText=
    monthNames[currentDate.getMonth()]+" "+currentDate.getFullYear();

  ["Lun","Mar","Mi√©","Jue","Vie","S√°b","Dom"].forEach(d=>{
    const el=document.createElement("div");
    el.className="day-name";
    el.innerText=d;
    cal.appendChild(el);
  });

  const first=new Date(currentDate.getFullYear(),currentDate.getMonth(),1);
  const start=(first.getDay()+6)%7;
  const days=new Date(currentDate.getFullYear(),currentDate.getMonth()+1,0).getDate();

  for(let i=0;i<start;i++) cal.appendChild(document.createElement("div"));

  for(let d=1;d<=days;d++){
    const box=document.createElement("div");
    box.className="day";
    box.onclick=()=>openModal(d);

    const n=document.createElement("div");
    n.className="day-number";
    n.innerText=d;
    box.appendChild(n);

    const key=getKey(d);
    if(events[key]){
      events[key].forEach(e=>{
        const ev=document.createElement("div");
        ev.className="event "+e.type;
        ev.innerText=
          (e.type!=="birthday"?"‚ö†Ô∏è ":"")+e.text+(e.time?" "+e.time:"");
        box.appendChild(ev);
      });
    }

    cal.appendChild(box);
  }
}

function changeMonth(x){
  currentDate.setMonth(currentDate.getMonth()+x);
  renderCalendar();
}

function getKey(d){
  return `${currentDate.getFullYear()}-${currentDate.getMonth()}-${d}`;
}

function openModal(d){
  selectedDay=d;
  modal.style.display="flex";
  eventText.value="";
  eventTime.value="";
}

function saveEvent(){
  if(!eventText.value) return;
  const key=getKey(selectedDay);
  if(!events[key]) events[key]=[];
  events[key].push({
    type:eventType.value,
    text:eventText.value,
    time:eventTime.value
  });
  modal.style.display="none";
  renderCalendar();
}

renderCalendar();
</script>

</body>
</html>
